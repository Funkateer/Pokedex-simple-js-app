!function(){var e=[];function t(e,t){var n=new XMLHttpRequest;n.addEventListener('load',function(e){var n=e.target;t(n.responseText)}),n.addEventListener('error',function(){console.log('The request failed (maybe you are offline?)')}),n.open('GET',e),n.send()}function n(e){JSON.parse(e).results.forEach(function(e){a({name:e.name,detailsUrl:e.url})}),i().forEach(function(e,t){r(e,t)})}function i(){return e}function a(t){return e.push(t)}function r(e,t){var n=document.createElement('li'),i=document.querySelector('.item-list');n.setAttribute('class','poke-list__item'),i.appendChild(n);var a=document.createElement('button');a.setAttribute('class','poke-list__button'),a.setAttribute('id',String(t));var r=document.querySelector('.poke-list__item:last-child');a.innerText=e.name,r.appendChild(a),a.addEventListener('click',function(e){o(e.target.id)})}function o(e){t(i()[e].detailsUrl,d)}function c(e){var t=JSON.parse(e),n=i()[t.id-1];return n.imageUrl=t.sprites.front_default,n.height=t.height,n.weight=t.weight,n.type=[],t.types.forEach(function(e){return n.type.push(' '+e.type.name),n.type}),n}function d(e){var t=c(e);l(t.name,`Height: ${t.height} Decimetres\n Weight: ${t.weight} Hectograms\n Type: ${t.type}`);var n=document.querySelector('.modal'),i=document.createElement('div');i.classList.add('modal-img');var a=document.createElement('img');a.setAttribute('src',`${t.imageUrl}`),a.setAttribute('alt',`an image of ${t.name}`),i.appendChild(a),n.appendChild(i)}function l(e,t){var n=document.querySelector('#modal-container');n.innerHTML='';var i=document.createElement('div');i.classList.add('modal');var a=document.createElement('button');a.classList.add('modal-close'),a.innerText='Close',a.addEventListener('click',s);var r=document.createElement('h2');r.innerText=e;var o=document.createElement('p');o.innerText=t,i.appendChild(a),i.appendChild(r),i.appendChild(o),n.appendChild(i),n.classList.add('is-visible'),window.addEventListener('keydown',function(e){var t=document.querySelector('#modal-container');'Escape'===e.key&&t.classList.contains('is-visible')&&s(!0)}),window.addEventListener('click',function(e){e.target===document.querySelector('#modal-container')&&s(!0)})}function s(e=null){document.querySelector('#modal-container').classList.remove('is-visible'),'function'==typeof e&&e()}t('https://pokeapi.co/api/v2/pokemon/?limit=42',n)}();